{"ast":null,"code":"import dbConnect from \"../../../utils/dbConnect\";\nimport User from \"../../../models/user\";\nexport default async function handler(req, res) {\n  const {\n    method\n  } = req;\n  await dbConnect();\n\n  switch (method) {\n    case \"GET\":\n      try {\n        const users = await User.find({});\n        /* find all the data in our database */\n\n        res.status(200).json({\n          success: true,\n          data: users\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    case \"POST\":\n      try {\n        const user = await User.create({\n          email: res.email,\n          username: req.username\n        });\n        /* create a new model in the database */\n\n        res.status(201).json({\n          success: true,\n          data: user\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false,\n          error: error\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n}","map":{"version":3,"sources":["/Users/jonathankirkpatrick/Desktop/Nextjs/nextRendering/pages/api/test/index.js"],"names":["dbConnect","User","handler","req","res","method","users","find","status","json","success","data","error","user","create","email","username"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AAEA,eAAe,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAnB;AAEA,QAAMH,SAAS,EAAf;;AAEA,UAAQK,MAAR;AACE,SAAK,KAAL;AACE,UAAI;AACF,cAAMC,KAAK,GAAG,MAAML,IAAI,CAACM,IAAL,CAClB,EADkB,CAApB;AAEG;;AACHH,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEL;AAAvB,SAArB;AACD,OALD,CAKE,OAAOM,KAAP,EAAc;AACdR,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB;AACD;;AACD;;AACF,SAAK,MAAL;AACE,UAAI;AACF,cAAMG,IAAI,GAAG,MAAMZ,IAAI,CAACa,MAAL,CAAY;AAC7BC,UAAAA,KAAK,EAAEX,GAAG,CAACW,KADkB;AAE7BC,UAAAA,QAAQ,EAAEb,GAAG,CAACa;AAFe,SAAZ,CAAnB;AAGI;;AACJZ,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEE;AAAvB,SAArB;AACD,OAND,CAME,OAAOD,KAAP,EAAc;AACdR,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,KAAX;AAAkBE,UAAAA,KAAK,EAAEA;AAAzB,SAArB;AACD;;AACD;;AACF;AACER,MAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACA;AAxBJ;AA0BD","sourcesContent":["import dbConnect from \"../../../utils/dbConnect\";\nimport User from \"../../../models/user\";\n\nexport default async function handler(req, res) {\n  const { method } = req;\n\n  await dbConnect();\n\n  switch (method) {\n    case \"GET\":\n      try {\n        const users = await User.find(\n          {}\n        ); /* find all the data in our database */\n        res.status(200).json({ success: true, data: users });\n      } catch (error) {\n        res.status(400).json({ success: false });\n      }\n      break;\n    case \"POST\":\n      try {\n        const user = await User.create({\n          email: res.email,\n          username: req.username,\n        }); /* create a new model in the database */\n        res.status(201).json({ success: true, data: user });\n      } catch (error) {\n        res.status(400).json({ success: false, error: error });\n      }\n      break;\n    default:\n      res.status(400).json({ success: false });\n      break;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}